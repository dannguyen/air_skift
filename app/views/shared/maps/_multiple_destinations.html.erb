<% 
	map_id ||= "route-destinations-map-#{rand(1000000)}-#{rand(100000)}" 
	map_scope ||= 'usa'

%>


<div id="<%=map_id%>" style="height: 600px;"></div>

<div id="map-controls">
	<a href="#" class="domestic">Domestic</a> <a href="#" class="international" style="display: none;">International</a>
</div>

<script type="text/javascript">

var routemap = new Datamap({
  element: document.getElementById("<%=map_id%>"),
  scope: "<%=map_scope%>",
  projection: 'mercator',
  geographyConfig: {
    highlightOnHover: false,
    popupOnHover: false
  },

});

// have to use the Rails raw helper to push raw string to the template
routemap.arc(<%=raw route_paths %>);

</script>
